---
sidebar_position: 6
---

# Reality Tunnel Direct

Ø±ÛŒÙ„ÛŒØªÛŒ Ù…Ø¯Øª Ù‡Ø§Ø³Øª Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ùˆ Ù‡Ù…Ù‡ Ù…ÛŒØ´Ù†Ø§Ø³Ù†

Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø§Ø² Ø±ÛŒÙ„ÛŒØªÛŒ Ú©Ù‡ Ø¯Ø§Ø®Ù„ ÙˆØ§ØªØ±ÙˆØ§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø¨Ø§ Ø±ÙˆØ´ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ø§ÛŒ Ú©Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ù†ÙˆØ´ØªÙ† ÙØ±Ù‚ Ù…ÛŒÚ©Ù†Ù‡ Ø§Ù…Ø§ Ø¯Ø±Ú©Ù„ Ø¨Ù‡ ÛŒÚ© Ù‡Ø¯Ù Ù…ÛŒØ±Ø³Ù†Ø¯

Ø±ÛŒÙ„ÛŒØªÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ø§ÛŒÙ† Ø§Ø¬Ø§Ø²Ù‡ Ø±Ùˆ Ù…ÛŒØ¯Ù‡ Ú©Ù‡ Ù‡Ù†Ø¯Ø´ÛŒÚ© Ø±Ùˆ Ø¨Ø§ Ø¯Ø§Ù…Ù†Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ú¯Ø± Ú©Ø§Ú©Ø´Ù† Ø§Ø­Ø±Ø§Ø² Ù†Ø´Ø¯ Ø› Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡ ÙØ§Ù„Ø¨Ú© Ø¨Ø´Ù‡ Ø¨Ù‡ Ù‡Ù…ÙˆÙ† Ø³Ø§ÛŒØª destination

Ø¯Ø±Ø­Ù‚ÛŒÙ‚Øª Ø³Ø±ÙˆØ± Ø´Ù…Ø§ Ø§Ù†Ú¯Ø§Ø± iptalbe Ø´Ø¯Ù‡ Ø¨Ù‡ destination Ùˆ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ù‡Ù…ÛŒÙ† ØªØ´Ø®ÛŒØµØ´ ØªÙˆØ³Ø· ÙØ§ÛŒØ±ÙˆØ§Ù„ Ø®ÛŒÙ„ÛŒ Ø³Ø®ØªÙ‡

Ø§Ù„Ø¨ØªÙ‡ Ø´Ø§ÛŒØ¯ Ø±Ø§Ù‡ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ù† Ú©Ù‡ Ø®ÛŒÙ„ÛŒ Ø¯Ø±Ú¯ÛŒØ±Ø´ Ù†Ø´ÛŒÙ… Ú†ÙˆÙ† Ù†Ù…ÛŒØ®ÙˆØ§Ù… Ø¨Ù‡ Ú©Ø³ÛŒ Ø§ÛŒØ¯Ù‡ Ø¨Ø¯Ù… Ø¯Ø±Ú©Ù„ ÙˆÙ„ÛŒ

Ø®Ù„Ø§ØµÙ‡ Ú©Ù„Ø§Ù… Ø§ÛŒÙ†Ú©Ù‡ Ø±ÛŒÙ„ÛŒØªÛŒ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ù‡Ù… Ø¯Ø§Ø±Ù‡ Ø› Ø¨Ø±Ø§ÛŒ ØªÙˆÙ†Ù„ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„ Ùˆ Ø³Ù†Ú¯ÛŒÙ† Ù…Ø«Ù„ aes Ù†ÛŒØ§Ø² Ù†ÛŒØ³Øª ÙˆÙ„ÛŒ Ø®ÙˆØ¨ Ø§Ù„Ø§Ù† ÙˆØ§ØªØ±ÙˆØ§Ù„ Ø¨Ø±Ø§ÛŒ Ø±ÛŒÙ„ÛŒØªÛŒ ÙÙ‚Ø· Ù‡Ù…ÛŒÙ† Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø±Ùˆ Ø¯Ø§Ø±Ù‡

Ú©Ù‡ Ø®ÙˆØ¨ Ø®ÛŒÙ„ÛŒ Ù‡Ù… performance Ø´Ø§ÛŒØ¯ Ù†Ú¯ÛŒØ±Ù‡ Ú†ÙˆÙ† hardware accelerated Ù¾ÛŒØ§Ø¯Ù‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· openssl

Ø±ÛŒÙ„ÛŒØªÛŒ Ø¯Ø± ÙˆØ§ØªØ±ÙˆØ§Ù„ Ø³Ø§Ø¯Ù‡ Ù¾ÛŒØ§Ø¯Ù‡ Ø´Ø¯Ù‡ ÙˆÙ„ÛŒ Ø¯Ø± Ø¹ÛŒÙ† Ø­Ø§Ù„ ØªØ§ Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ù…Ù† Ø¹Ù„Ù…Ø´Ùˆ Ø¯Ø§Ø´ØªÙ… Ù†Ú©Ø§ØªØ´ Ø±Ø¹Ø§ÛŒØª Ø´Ø¯Ù‡

Ø´Ù…Ø§ ØªÙ†Ù‡Ø§ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Ù¾Ø³ÙˆØ±Ø¯ Ù…Ø´ØªØ±Ú© Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† ÛŒÚ© sni Ú©Ù‡ Ø®ÙˆØ¯ØªÙˆÙ† Ù‡Ø±Ú†ÛŒ Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÛŒØ¯ Ù…ÛŒØ²Ù†ÛŒØ¯

Ø¨Ø§ Ø§ÛŒÙ†Ú©Ù‡ ÛŒÚ© Ù¾Ø³ÙˆØ±Ø¯ Ù…Ø´ØªØ±Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø› Ø§Ù…Ø§ Ø¯ÛŒØªØ§ÛŒ Ø§Ø±Ø³Ø§Ù„ÛŒ Ú©Ø§Ù…Ù„Ø§ tls simulated Ù‡Ø³Øª Ùˆ Ù‡Ù…Ú†ÛŒÙ† ØªÙ…Ø§Ù… Ù¾Ú©Øª Ù‡Ø§ Ø¨Ø§ Ú©Ù…Ú© IV Ø±Ù†Ø¯ÙˆÙ… Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¯ÛŒØªØ§ÛŒ Ù‡ÛŒÚ† Ø³Ù…Ù¾Ù„ÛŒ ØªÚ©Ø±Ø§Ø± Ù†Ù…ÛŒØ´Ù‡

Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ù…Ø¶Ø§ Ø¨Ø§ hmac Ù‡Ù… Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ ØªØ§ ÛŒÙˆÙ‚Øª Ù‡Ú©Ø± Ù‡Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ø§Ø±Ø²Ø´ Ø´Ù…Ø§ Ø±Ùˆ Ù‡Ú© Ù†Ú©Ù† Ùˆ Ø¯Ø§Ù…Ù†Ù‡ Ø§ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒØ®ÙˆØ§Ø¯ ÙˆØµÙ„ Ø¨Ø´Ù‡ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ù†Ú©Ù†Ù† !

Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ø§ÛŒÙ† Ù‡Ø§ Ú©Ø§ÙÛŒ Ø¨ÙˆØ¯Ù‡ Ø¨Ø§Ø´Ù‡ Ùˆ Ø¬Ø§ÛŒÛŒ Ø³ÙˆØªÛŒ Ù†Ø¯Ø§Ø¯Ù‡ Ø¨Ø§Ø´Ù… ðŸ˜

ÙˆÙ„ÛŒ Ø§ÛŒÙ† Ø¬ÙˆØ± Ú†ÛŒØ² Ù‡Ø§ ØªØ§ ÙˆÙ‚ØªÛŒ Ú†Ù†Ø¯ Ù†ÙØ± Ù…ØªØ®ØµØµ ØªÙˆÛŒ Ø§Ù…Ù†ÛŒØª Ø¨Ø±Ø³ÛŒ Ù†Ú©Ù†Ù† Ù†Ù…ÛŒØ´Ù‡ Ù†Ø¸Ø± Ø¯Ø§Ø¯ Ø› Ø§Ú¯Ù‡ Ú©Ø³ÛŒ Ø±Ùˆ Ù…ÛŒØ´Ù†Ø§Ø³ÛŒØ¯ ÛŒØ§ Ø®ÙˆØ¯ØªÙˆÙ† ÙØ¹Ø§Ù„ Ù‡Ø³ØªÛŒØ¯ ØªÙˆ Ø§ÛŒÙ† Ø­ÛŒØ·Ù‡ Ø®ÙˆØ´Ø­Ø§Ù„Ù… Ù…ÛŒØ´Ù… Ú©Ø¯ Ø±Ùˆ Ø¨Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø³ÙˆØªÛŒ Ù‡Ø§ÛŒ ÙØ±Ø§ÙˆØ§Ù†ÛŒ Ú©Ù‡ Ø¯Ø§Ø¯Ù… Ø±Ùˆ Ø¨Ù‡Ù… Ø§Ø·Ù„Ø§Ø¹ Ø¨Ø¯ÛŒØ¯

Ø§ÛŒÙ† Ù†Ú©Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… aes Ø¨ÙˆØ¯ Ø› Ø¨Ø¹Ø¯Ø§ Ø¨Ø±Ø§Ø´ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø®ÙˆØ¯Ù… Ú©Ù‡ xor Ù‡Ø³Øª Ø±Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†Ù… Ú©Ù‡ Ù‡ÛŒÚ† Ú©ÙˆØ¯Ù… Ø§Ø² Ø§ÛŒÙ† Ø¬Ø²ÛŒÛŒØ§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ø±ÙˆØ´ Ø±Ø¹Ø§ÛŒØª Ù†Ù…ÛŒØ´Ù‡ ÙˆÙ„ÛŒ Ù¾Ø±ÙÙˆØ±Ù…Ù†Ø³ Ø¨Ù‡ØªØ±ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø¯




### ÙÙ„ÙˆÚ†Ø§Ø±Øª Reality Tunnel Direct

```mermaid
flowchart LR;
    user1 -- "Config Tunnel" --> A1;
    user2 -- "Config Tunnel" --> A2;
    user3 -- "Config Tunnel" --> A3;
    user4 -- "Config Tunnel" --> A4;
    subgraph Kharej;
    B1[443 Waterwall] --> B2 & B3 & B4 & B5;
    B2[2053 Xray];
    B3[2083 Xray];
    B4[... Xray];
    B5[65535 Xray];
    end;
    subgraph IRan;
    A1[2053] -- "Reality Handshake With SNI" --> B1;
    A2[2083] -- "Reality Handshake With SNI" --> B1;
    A3[...] -- "Reality Handshake With SNI" --> B1;
    A4[65535] -- "Reality Handshake With SNI" --> B1;
    end;
    ```

#### Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù† 

:::note
Ø¨Ø±Ø§ÛŒ ØªÙˆÙ†Ù„ Ù…Ø³ØªÙ‚ÛŒÙ… Ø±ÛŒÙ„ÛŒØªÛŒ Ø§Ø² Ø§ÛŒÙ† Ù…Ø«Ø§Ù„ Ù…ÛŒØ´Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯

- Ø§ÛŒÙ¾ÛŒ Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬ 1.1.1.1 
- Ø±Ù…Ø² passwd
- sni: i.stack.imgur.com
- multi port (443 - 65535)
:::

```json  title="Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†"
{
    "name": "reality_client_multiport",
    "nodes": [
        {
            "name": "users_inbound",
            "type": "TcpListener",
            "settings": {
                "address": "0.0.0.0",
                "port": [443,65535],
                "nodelay": true
            },
            "next": "header"
        },
        {
            "name": "header",
            "type": "HeaderClient",
            "settings": {
                "data": "src_context->port"
            },
            "next": "my_reality_client"
        },
        {
            "name": "my_reality_client",
            "type": "RealityClient",
            "settings": {
                "sni":"i.stack.imgur.com",
                "password":"passwd"

            },
            "next": "outbound_to_kharej"
        },

        {
            "name": "outbound_to_kharej",
            "type": "TcpConnector",
            "settings": {
                "nodelay": true,
                "address":"1.1.1.1",
                "port":443
            }
        }
      
    ]
}
```


```json  title="Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬"
{
    "name": "reality_server_multiport", 
    "nodes": [
        {
            "name": "main_inbound",
            "type": "TcpListener",
            "settings": {
                "address": "0.0.0.0",
                "port": 443,
                "nodelay": true
            },
            "next": "my_reality_server"
        },

        {
            "name": "my_reality_server",
            "type": "RealityServer", 
            "settings": {
                "destination":"reality_dest_node",
                "password":"passwd"
            },
            "next": "header_server"
        },
        
        {
            "name": "header_server",
            "type": "HeaderServer",
            "settings": {
                "override": "dest_context->port"
            },
            "next": "final_outbound"
        },

        {
            "name": "final_outbound",
            "type": "TcpConnector",
            "settings": {
                "nodelay": true,
                "address":"127.0.0.1",
                "port":"dest_context->port"
            }
        },

        {
            "name": "reality_dest_node",
            "type": "TcpConnector",
            "settings": {
                "nodelay": true,
                "address":"i.stack.imgur.com",
                "port":443
            }
        }
      
    ]
}
```